---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "objsto_bucket_lifecycle_configuration Resource - objsto"
subcategory: ""
description: |-
  A bucket lifecycle configuration resource. Note that there can only be one lifecycle configuration per bucket.
---

# objsto_bucket_lifecycle_configuration (Resource)

A bucket lifecycle configuration resource. Note that there can only be one lifecycle configuration per bucket.

## Example Usage

```terraform
resource "objsto_bucket" "example" {
  bucket = "example"
}

resource "objsto_bucket_lifecycle_configuration" "this" {
  bucket = objsto_bucket.this.bucket

  rule {
    id = "Expire non-current versions after 7 days"

    filter {
      prefix = ""
    }

    noncurrent_version_expiration {
      noncurrent_days = 7
    }
  }

  rule {
    id = "Expire all objects with status=completed tag"

    filter {
      tag = {
        key   = "status"
        value = "completed"
      }
    }

    expiration {
      date = "2024-01-01T00:00:00Z"
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required Attributes

- `bucket` (String) The name of the bucket for which to configure the lifecycle policy.

### Blocks

- `rule` (Block List) The lifecycle rules to apply to the bucket. (see [below for nested schema](#nestedblock--rule))

<a id="nestedblock--rule"></a>
### Nested Schema for `rule`

Required Attributes:

- `id` (String) The identifier of the rule.

Optional Attributes:

- `status` (String) The status of the rule.

Blocks:

- `expiration` (Block, Optional) The expiration of the object. (see [below for nested schema](#nestedblock--rule--expiration))
- `filter` (Block, Optional) A filter to select object that the rule applies to. (see [below for nested schema](#nestedblock--rule--filter))
- `noncurrent_version_expiration` (Block, Optional) The expiration of the noncurrent versions of the object. (see [below for nested schema](#nestedblock--rule--noncurrent_version_expiration))

<a id="nestedblock--rule--expiration"></a>
### Nested Schema for `rule.expiration`

Optional Attributes:

- `date` (String) The date of the expiration.
- `days` (Number) The number of days until expiration.


<a id="nestedblock--rule--filter"></a>
### Nested Schema for `rule.filter`

Optional Attributes:

- `object_size_larger_than` (Number) The minimum object size in bytes.
- `object_size_less_than` (Number) The maximum object size in bytes.
- `prefix` (String) The prefix of the object key.
- `tag` (Attributes) The tag of the object. (see [below for nested schema](#nestedatt--rule--filter--tag))

Blocks:

- `and` (Block, Optional) A logical AND filter. (see [below for nested schema](#nestedblock--rule--filter--and))

<a id="nestedatt--rule--filter--tag"></a>
### Nested Schema for `rule.filter.tag`

Required Attributes:

- `key` (String) The key of the tag.
- `value` (String) The value of the tag.


<a id="nestedblock--rule--filter--and"></a>
### Nested Schema for `rule.filter.and`

Optional Attributes:

- `object_size_larger_than` (Number) The minimum object size in bytes.
- `object_size_less_than` (Number) The maximum object size in bytes.
- `prefix` (String) The prefix of the object key.
- `tags` (Map of String) The tags of the object.



<a id="nestedblock--rule--noncurrent_version_expiration"></a>
### Nested Schema for `rule.noncurrent_version_expiration`

Optional Attributes:

- `newer_noncurrent_versions` (Number) The number of newer noncurrent versions.
- `noncurrent_days` (Number) The number of days until expiration of the noncurrent versions.
