---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "objsto_bucket_lifecycle_configuration Resource - objsto"
subcategory: ""
description: |-
  A bucket lifecycle configuration resource. Note that there can only be one lifecycle configuration per bucket.
---

# objsto_bucket_lifecycle_configuration (Resource)

A bucket lifecycle configuration resource. Note that there can only be one lifecycle configuration per bucket.

## Example Usage

```terraform
resource "objsto_bucket" "example" {
  bucket = "example"
}

resource "objsto_bucket_lifecycle_configuration" "this" {
  bucket = objsto_bucket.this.bucket

  rules = [
    {
      id = "Expire non-current versions after 7 days"
      filter = {
        prefix = "",
      }
      noncurrent_version_expiration = {
        noncurrent_days = 7
      }
    },
    {
      id = "Expire all objects with status=completed tag"
      filter = {
        tag = {
          key   = "status"
          value = "completed"
        },
      }
      expiration = {
        date = "2024-01-01T00:00:00Z"
      }
    },
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `bucket` (String) The name of the bucket for which to configure the lifecycle policy.
- `rules` (Attributes List) The lifecycle rules to apply to the bucket. (see [below for nested schema](#nestedatt--rules))

<a id="nestedatt--rules"></a>
### Nested Schema for `rules`

Required:

- `filter` (Attributes) A filter to select object that the rule applies to. (see [below for nested schema](#nestedatt--rules--filter))
- `id` (String) The identifier of the rule.

Optional:

- `expiration` (Attributes) The expiration of the object. (see [below for nested schema](#nestedatt--rules--expiration))
- `noncurrent_version_expiration` (Attributes) The expiration of the noncurrent versions of the object. (see [below for nested schema](#nestedatt--rules--noncurrent_version_expiration))
- `status` (String) The status of the rule.

<a id="nestedatt--rules--filter"></a>
### Nested Schema for `rules.filter`

Optional:

- `and` (Attributes) A logical AND filter. (see [below for nested schema](#nestedatt--rules--filter--and))
- `object_size_larger_than` (Number) The minimum object size in bytes.
- `object_size_less_than` (Number) The maximum object size in bytes.
- `prefix` (String) The prefix of the object key.
- `tag` (Attributes) The tag of the object. (see [below for nested schema](#nestedatt--rules--filter--tag))

<a id="nestedatt--rules--filter--and"></a>
### Nested Schema for `rules.filter.and`

Optional:

- `object_size_larger_than` (Number) The minimum object size in bytes.
- `object_size_less_than` (Number) The maximum object size in bytes.
- `prefix` (String) The prefix of the object key.
- `tag` (Attributes Set) The tags of the object. (see [below for nested schema](#nestedatt--rules--filter--and--tag))

<a id="nestedatt--rules--filter--and--tag"></a>
### Nested Schema for `rules.filter.and.tag`

Required:

- `key` (String) The key of the tag.
- `value` (String) The value of the tag.



<a id="nestedatt--rules--filter--tag"></a>
### Nested Schema for `rules.filter.tag`

Required:

- `key` (String) The key of the tag.
- `value` (String) The value of the tag.



<a id="nestedatt--rules--expiration"></a>
### Nested Schema for `rules.expiration`

Optional:

- `date` (String) The date of the expiration.
- `days` (Number) The number of days until expiration.


<a id="nestedatt--rules--noncurrent_version_expiration"></a>
### Nested Schema for `rules.noncurrent_version_expiration`

Optional:

- `newer_noncurrent_versions` (Number) The number of newer noncurrent versions.
- `noncurrent_days` (Number) The number of days until expiration of the noncurrent versions.
